/* components/VoucherCard/VoucherCard.css - WIDE LAYOUT WITH IMAGE STRIP */

/* ── Variables ──────────────────────────────────────────────────── */
:root {
  --voucher-bg:           #ffffff;
  --voucher-border:       #e2e8f0;
  --voucher-shadow:       0 2px 10px rgba(0, 0, 0, 0.07);
  --voucher-shadow-hover: 0 6px 24px rgba(0, 0, 0, 0.11);

  --color-primary:        #470ae2;
  --color-primary-hover:  #3a09ba;
  --color-primary-light:  #f0ebff;
  --color-success:        #10b981;
  --color-warning:        #f59e0b;
  --color-danger:         #ef4444;

  --color-text-main:      #0f172a;
  --color-text-muted:     #64748b;
  --color-bg-light:       #f8fafc;
  --color-bg-subtle:      #f1f5f9;
  --panel-border:         #e8edf5;

  /* Image strip dimensions */
  --strip-width:          180px;
  --strip-width-tablet:   150px;
  --strip-width-mobile:   100px;
}

/* ── Base Font ──────────────────────────────────────────────────── */
.voucher-card-new,
.voucher-card-new * {
  font-family: 'Alexandria', 'Open Sans', sans-serif;
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

/* ══════════════════════════════════════════════════════════════════
   MAIN CARD
══════════════════════════════════════════════════════════════════ */
.voucher-card-new {
  background:    var(--voucher-bg);
  border-radius: 14px;
  border:        1px solid var(--voucher-border);
  box-shadow:    var(--voucher-shadow);
  overflow:      hidden;
  position:      relative;
  width:         100%;
  max-width:     900px;           /* ← wider than before */
  animation:     slideIn 0.3s ease;
  transition:    box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                 border-color 0.3s ease;
}

.voucher-card-new:hover        { box-shadow: var(--voucher-shadow-hover); }
.voucher-card-new.card-expanded {
  border-color: var(--color-primary);
  box-shadow: 0 4px 28px rgba(71, 10, 226, 0.13);
}
.voucher-card-new.expired      { opacity: 0.6; filter: grayscale(0.8); }
.voucher-card-new.featured     {
  border: 2px solid var(--color-primary);
  box-shadow: 0 4px 20px rgba(71, 10, 226, 0.15);
}
.voucher-card-new:focus-within {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* ── Main row ───────────────────────────────────────────────────── */
.voucher-main-row {
  display:    flex;
  flex-direction: row;
  min-height: 160px;               /* slightly taller for the wider card */
}

/* ══════════════════════════════════════════════════════════════════
   LEFT: VERTICAL IMAGE STRIP
══════════════════════════════════════════════════════════════════ */
.voucher-image-strip {
  flex:       0 0 var(--strip-width);
  position:   relative;
  display:    flex;
  flex-direction: column;
  overflow:   hidden;
  text-decoration: none;
  background: #f1f5f9;
  /* Subtle right border separating strip from content */
  border-right: 1px solid var(--panel-border);
}

/* Images fill the strip height equally */
.strip-images {
  display:  flex;
  flex-direction: column;
  height:   100%;
  width:    100%;
}

.strip-image-slot {
  flex:     1 1 0;
  position: relative;
  overflow: hidden;
  min-height: 48px;
}

/* Object fit is set inline per image type (contain vs cover) */
.strip-img {
  transition: transform 0.4s ease;
}

.voucher-image-strip:hover .strip-img {
  transform: scale(1.04);
}

/* When only one image: give it a nicer bg */
.strip-image-slot.strip-slot--logo,
.strip-image-slot.strip-slot--bigLogo {
  background: #fff;
  padding: 12px;
}

/* Visual divider between stacked images */
.strip-image-slot + .strip-image-slot {
  border-top: 1px solid var(--panel-border);
}

/* ── Discount overlay (top-left of strip) ── */
.strip-discount-overlay {
  position:   absolute;
  top:        10px;
  left:       8px;
  z-index:    10;
  display:    flex;
  flex-direction: column;
  align-items: flex-start;
  gap:        4px;
  pointer-events: none;
}

[dir="rtl"] .strip-discount-overlay {
  left:  unset;
  right: 8px;
  align-items: flex-end;
}

.strip-discount-value {
  display:       inline-block;
  background:    var(--color-primary);
  color:         #fff;
  font-size:     1rem;
  font-weight:   800;
  line-height:   1;
  padding:       5px 10px;
  border-radius: 8px;
  letter-spacing: -0.01em;
  box-shadow:    0 2px 8px rgba(71, 10, 226, 0.35);
}

.strip-type-pill {
  background:    rgba(255, 255, 255, 0.92);
  color:         var(--color-primary);
  font-size:     0.6875rem;
  font-weight:   700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding:       3px 8px;
  border-radius: 20px;
  border:        1px solid rgba(71, 10, 226, 0.2);
}

/* ══════════════════════════════════════════════════════════════════
   RIGHT: CONTENT AREA
══════════════════════════════════════════════════════════════════ */
.voucher-right-new {
  flex:    1;
  display: flex;
  flex-direction: column;
  padding: 1.125rem 1.375rem 1rem;
  gap:     0.7rem;
  min-width: 0;
}

/* ── Header ─────────────────────────────────────────────────────── */
.voucher-header-new {
  display:  flex;
  flex-direction: column;
  gap:      0.3rem;
}

.header-top-row {
  display:     flex;
  align-items: center;
  gap:         0.625rem;
  flex-wrap:   wrap;
}

.store-name-link {
  font-size:       0.8125rem;
  font-weight:     700;
  color:           var(--color-primary);
  text-decoration: none;
  letter-spacing:  0.01em;
  text-transform:  uppercase;
  transition:      opacity 0.2s;
}
.store-name-link:hover { opacity: 0.75; }

.header-badges {
  display:     flex;
  align-items: center;
  gap:         0.375rem;
  flex-wrap:   wrap;
}

.voucher-title-new {
  font-size:   1.0625rem;
  font-weight: 600;
  color:       var(--color-text-main);
  margin:      0;
  line-height: 1.45;
  display:     -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow:    hidden;
}

/* ── Meta line ──────────────────────────────────────────────────── */
.voucher-meta-line {
  display:     flex;
  align-items: center;
  gap:         0.5rem;
  flex-wrap:   wrap;
  font-size:   0.75rem;
}

.times-used,
.last-used-inline,
.last-updated,
.expiry-inline {
  display:     inline-flex;
  align-items: center;
  gap:         0.2rem;
  color:       var(--color-text-muted);
  font-weight: 500;
}

.times-used .material-symbols-sharp,
.last-used-inline .material-symbols-sharp,
.expiry-inline .material-symbols-sharp {
  font-size: 0.875rem;
}

.urgent-text {
  color: #d97706;
  font-weight: 600;
}

.meta-divider {
  color:   var(--color-text-muted);
  opacity: 0.5;
  font-size: 0.875rem;
}

/* ── Action buttons ─────────────────────────────────────────────── */
.voucher-actions-new {
  display:   flex;
  flex-direction: column;
  gap:       0.5rem;
  max-width: 360px;         /* don't let it stretch full width */
}

.show-code-btn,
.get-deal-btn {
  width:         100%;
  background:    var(--color-primary);
  color:         white;
  border:        none;
  padding:       0.5rem 1.125rem;
  border-radius: 8px;
  font-weight:   600;
  font-size:     0.9375rem;
  cursor:        pointer;
  transition:    all 0.2s ease;
  display:       flex;
  align-items:   center;
  justify-content: center;
  gap:           0.5rem;
  white-space:   nowrap;
  font-family:   'Alexandria', 'Open Sans', sans-serif;
}

.show-code-btn:hover,
.get-deal-btn:hover {
  background: var(--color-primary-hover);
  transform:  translateY(-1px);
}
.show-code-btn:active,
.get-deal-btn:active  { transform: translateY(0); }
.show-code-btn.copied { background: var(--color-success); }
.show-code-btn:disabled,
.get-deal-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.code-preview {
  background:    rgba(255,255,255,0.2);
  padding:       0.2rem 0.625rem;
  border-radius: 5px;
  font-family:   'Courier New', monospace;
  font-weight:   700;
  letter-spacing: 0.5px;
  font-size:     0.875rem;
}

.copy-icon { font-size: 1rem; opacity: 0.85; }

/* ── Expand toggle ──────────────────────────────────────────────── */
.expand-toggle-btn {
  display:    inline-flex;
  align-items: center;
  gap:        0.25rem;
  background: none;
  border:     none;
  cursor:     pointer;
  color:      var(--color-text-muted);
  font-size:  0.8125rem;
  font-weight: 500;
  padding:    0.25rem 0;
  transition: color 0.2s ease;
  align-self: flex-start;
  font-family: 'Alexandria', 'Open Sans', sans-serif;
}
.expand-toggle-btn:hover { color: var(--color-primary); }

.expand-icon {
  font-size:  1.125rem;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* ── Meta badges ────────────────────────────────────────────────── */
.meta-badge {
  display:      inline-flex;
  align-items:  center;
  gap:          0.25rem;
  padding:      0.2rem 0.6rem;
  border-radius: 20px;
  font-size:    0.6875rem;
  font-weight:  600;
  white-space:  nowrap;
}
.meta-badge .material-symbols-sharp { font-size: 0.8125rem; }
.meta-badge.active    { background: #d1fae5; color: #065f46; }
.meta-badge.verified  { background: #dbeafe; color: #2563eb; }
.meta-badge.exclusive { background: #fae8ff; color: #a855f7; }
.meta-badge.expired   { background: #fee2e2; color: #dc2626; }
.meta-badge.urgent    { background: #fef3c7; color: #d97706; }
.meta-badge.last-used { background: #f3f4f6; color: #4b5563; }

/* ══════════════════════════════════════════════════════════════════
   EXPANDED PANEL
══════════════════════════════════════════════════════════════════ */
.voucher-expanded-panel {
  display:    grid;
  grid-template-rows: 0fr;
  transition: grid-template-rows 0.35s cubic-bezier(0.4, 0, 0.2, 1);
  border-top: 0px solid var(--panel-border);
}
.voucher-expanded-panel.panel-open {
  grid-template-rows: 1fr;
  border-top-width: 1px;
}

.expanded-panel-inner {
  overflow: hidden;
  display:  flex;
  flex-direction: column;
}

/* ── Stats row ──────────────────────────────────────────────────── */
.stats-row {
  display:        flex;
  background:     var(--color-bg-subtle);
  border-bottom:  1px solid var(--panel-border);
}
.stat-box {
  flex:           1;
  display:        flex;
  flex-direction: column;
  align-items:    center;
  justify-content: center;
  padding:        1rem 0.75rem;
  gap:            0.2rem;
  text-align:     center;
  border-right:   1px solid var(--panel-border);
}
.stat-box:last-child  { border-right: none; }
.stat-icon            { font-size: 1.125rem; color: var(--color-primary); opacity: 0.8; }
.stat-value           { font-size: 1rem; font-weight: 700; color: var(--color-text-main); line-height: 1.2; }
.stat-label           { font-size: 0.6875rem; color: var(--color-text-muted); font-weight: 500; text-transform: uppercase; letter-spacing: 0.4px; }

/* ── Activity feed ──────────────────────────────────────────────── */
.activity-section     { padding: 1rem 1.375rem; border-bottom: 1px solid var(--panel-border); }

.section-title {
  display:     flex;
  align-items: center;
  gap:         0.375rem;
  font-size:   0.875rem;
  font-weight: 700;
  color:       var(--color-text-main);
  margin:      0 0 0.75rem 0;
}
.section-title .material-symbols-sharp { font-size: 1rem; color: var(--color-primary); }

.activity-feed        { display: flex; flex-direction: column; gap: 0.625rem; }
.activity-item        { display: flex; align-items: center; gap: 0.625rem; }
.activity-avatar      { width: 28px; height: 28px; border-radius: 50%; background: var(--color-primary-light); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.activity-avatar .material-symbols-sharp { font-size: 1rem; color: var(--color-primary); }
.activity-content     { flex: 1; min-width: 0; font-size: 0.8125rem; line-height: 1.4; }
.activity-label       { font-weight: 600; color: var(--color-text-main); }
.activity-action      { color: var(--color-text-muted); }
.activity-time        { font-size: 0.75rem; color: var(--color-text-muted); white-space: nowrap; flex-shrink: 0; }

/* ── Feedback ───────────────────────────────────────────────────── */
.feedback-section {
  padding:       0.875rem 1.375rem;
  border-bottom: 1px solid var(--panel-border);
  background:    var(--color-bg-light);
}
.feedback-prompt {
  display:     flex;
  align-items: center;
  gap:         0.375rem;
  font-size:   0.875rem;
  font-weight: 500;
  color:       var(--color-text-main);
  margin:      0 0 0.625rem 0;
}
.feedback-prompt .material-symbols-sharp { font-size: 1rem; color: var(--color-text-muted); }
.feedback-actions     { display: flex; gap: 0.625rem; }
.feedback-btn {
  display:     flex;
  align-items: center;
  gap:         0.375rem;
  padding:     0.4rem 0.875rem;
  border-radius: 20px;
  border:      1.5px solid;
  font-size:   0.8125rem;
  font-weight: 600;
  cursor:      pointer;
  transition:  all 0.2s ease;
  font-family: 'Alexandria', 'Open Sans', sans-serif;
}
.feedback-btn .material-symbols-sharp { font-size: 0.9375rem; }
.feedback-yes { background: #d1fae5; color: #065f46; border-color: #6ee7b7; }
.feedback-yes:hover { background: #a7f3d0; border-color: #34d399; }
.feedback-no  { background: #fee2e2; color: #991b1b; border-color: #fca5a5; }
.feedback-no:hover  { background: #fecaca; border-color: #f87171; }
.feedback-thanks {
  display:     flex;
  align-items: center;
  gap:         0.5rem;
  padding:     0.875rem 1.375rem;
  border-bottom: 1px solid var(--panel-border);
  background:  #d1fae5;
  color:       #065f46;
  font-size:   0.875rem;
  font-weight: 600;
}
.feedback-thanks .material-symbols-sharp { font-size: 1.125rem; color: var(--color-success); }

/* ── Detail section ─────────────────────────────────────────────── */
.detail-section {
  padding:       1rem 1.375rem;
  border-bottom: 1px solid var(--panel-border);
  display:       flex;
  flex-direction: column;
  gap:           0.75rem;
}
.detail-row           { display: flex; gap: 0.625rem; align-items: flex-start; }
.detail-icon          { font-size: 1rem; margin-top: 0.125rem; flex-shrink: 0; color: var(--color-text-muted); }
.fact-row .detail-icon        { color: var(--color-success); }
.restriction-row .detail-icon { color: var(--color-warning); }
.detail-text          { display: flex; flex-direction: column; gap: 0.2rem; flex: 1; min-width: 0; }
.detail-label         { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.4px; color: var(--color-text-muted); }
.detail-value         { font-size: 0.875rem; color: var(--color-text-main); line-height: 1.5; }
.fact-value           { color: var(--color-success); font-weight: 600; }
.restriction-value    { color: #b45309; font-weight: 500; }

/* ── Expanded footer ────────────────────────────────────────────── */
.expanded-footer      { padding: 0.875rem 1.375rem; }
.view-store-link {
  display:         inline-flex;
  align-items:     center;
  gap:             0.375rem;
  font-size:       0.875rem;
  font-weight:     600;
  color:           var(--color-primary);
  text-decoration: none;
  transition:      gap 0.2s ease, opacity 0.2s ease;
}
.view-store-link:hover        { opacity: 0.8; gap: 0.5rem; }
.view-store-link .material-symbols-sharp { font-size: 1rem; }
.view-store-link .arrow-icon  { font-size: 1.125rem; }

/* ══════════════════════════════════════════════════════════════════
   RTL SUPPORT
══════════════════════════════════════════════════════════════════ */
[dir="rtl"] .voucher-main-row          { flex-direction: row-reverse; }
[dir="rtl"] .voucher-image-strip       { border-right: none; border-left: 1px solid var(--panel-border); }
[dir="rtl"] .stat-box                  { border-right: none; border-left: 1px solid var(--panel-border); }
[dir="rtl"] .stat-box:last-child       { border-left: none; }
[dir="rtl"] .get-deal-btn .material-symbols-sharp { transform: scaleX(-1); }
[dir="rtl"] .view-store-link .arrow-icon          { transform: scaleX(-1); }

/* ══════════════════════════════════════════════════════════════════
   RESPONSIVE
══════════════════════════════════════════════════════════════════ */

/* Tablet */
@media (max-width: 768px) {
  .voucher-card-new        { max-width: 100%; }
  .voucher-image-strip     { flex: 0 0 var(--strip-width-tablet); }
  .voucher-main-row        { min-height: 150px; }
  .voucher-right-new       { padding: 0.875rem 1.125rem 0.75rem; gap: 0.55rem; }
  .voucher-title-new       { font-size: 1rem; }
  .strip-discount-value    { font-size: 0.9375rem; padding: 4px 8px; }
  .voucher-actions-new     { max-width: 100%; }
  .show-code-btn,
  .get-deal-btn            { padding: 0.45rem 1rem; font-size: 0.875rem; }
  .stats-row               { flex-wrap: wrap; }
  .stat-box                { flex: 1 1 45%; }
}

/* Mobile */
@media (max-width: 480px) {
  .voucher-image-strip     { flex: 0 0 var(--strip-width-mobile); }
  .voucher-main-row        { min-height: 130px; }
  .strip-discount-value    { font-size: 0.8125rem; padding: 3px 7px; border-radius: 6px; }
  .strip-type-pill         { font-size: 0.625rem; padding: 2px 6px; }
  .voucher-right-new       { padding: 0.75rem 0.875rem 0.625rem; gap: 0.45rem; }
  .voucher-title-new       { font-size: 0.9375rem; }
  .voucher-meta-line       { gap: 0.35rem; }
  .times-used, .last-updated { font-size: 0.6875rem; }
  .show-code-btn,
  .get-deal-btn            { padding: 0.4rem 0.875rem; font-size: 0.8125rem; }
  .code-preview            { font-size: 0.75rem; padding: 0.15rem 0.5rem; }
  .meta-badge              { padding: 0.2rem 0.5rem; font-size: 0.625rem; }
  .stats-row               { flex-direction: column; }
  .stat-box                { flex: 1 1 100%; border-right: none; border-bottom: 1px solid var(--panel-border); }
  .stat-box:last-child     { border-bottom: none; }
  .activity-section,
  .feedback-section,
  .detail-section,
  .expanded-footer         { padding-left: 0.875rem; padding-right: 0.875rem; }
  [dir="rtl"] .stat-box   { border-left: none; border-bottom: 1px solid var(--panel-border); }
}

/* ── Animations ─────────────────────────────────────────────────── */
@keyframes slideIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

@media (prefers-reduced-motion: reduce) {
  .voucher-card-new,
  .voucher-card-new *,
  .voucher-expanded-panel {
    animation: none;
    transition: none;
  }
}
